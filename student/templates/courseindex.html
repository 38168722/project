{% extends "models.html" %}

{% block mt %}

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" name="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">新增课程</h4>
      </div>
      <div class="modal-body">

        <!-- 表单编辑开始位置 -->
        <form class="form-horizontal" id="add" action="/course/" method="post">
            {% csrf_token %}
          <div class="form-group">
            <label for="name" class="col-sm-2 control-label">课程名</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="name" name="name">
            </div>
          </div>
          <div class="form-group">
            <label for="price" class="col-sm-2 control-label">价格</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="price" name="price">
            </div>
          </div>
          <div class="form-group">
            <label for="period" class="col-sm-2 control-label">周期</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="period" name="period">
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <input type="hidden" name="method" value="courseadd">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="submit" class="btn btn-primary">添加</button>
      </form>
      <!-- 表单编辑结束位置 -->

      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block listmenu %}

  <ul class="nav nav-sidebar">
    <li><a href="/index/">教师管理 <span class="sr-only">(current)</span></a></li>
    <li><a href="/student/">学生管理</a></li>
    <li><a href="/userType/">职位管理</a></li>
    <li><a href="/classes/">班级管理</a></li>
    <li class="active"><a href="/course/">课程管理</a></li>
  </ul>

{% endblock listmenu %}

{% block booklist %}
      <!-- Button trigger modal -->
      <h3><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">添加</button></h3>
      <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th class="text-center">序号</th>
                  <th class="text-center">名称</th>
                  <th class="text-center">价格</th>
                  <th class="text-center">周期</th>
                </tr>
              </thead>
              <tbody class="text-center">
              {% for c in course_list %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ c.name }}</td>
                    <td>{{ c.price }}</td>
                    <td>{{ c.period }}</td>
                    <td>
                        <a href="/course/?method=coursedit&cid={{ c.id }}"><button type="button" class="btn btn-info edit">编辑</button></a>
                        <a href="/course/?method=coursedel&cid={{ c.id }}"><button class="btn btn-danger">删除</button></a>
                    </td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>

<!-- 分页组件 -->
{#<nav aria-label="Page navigation">#}
{#  <ul class="pagination">#}
{#    {% if book_list.has_previous %}#}
{#        <li class="previous"><a href="/admin/?page={{ book_list.previous_page_number }}" aria-label="Previous">上一页</a></li>#}
{#    {% else %}#}
{#        <li class="previous disabled"><a href="#" aria-label="Previous">上一页</a></li>#}
{#    {% endif %}#}
{#        {% for num in pageRange %}#}
{#            {% if num == currentPage %}#}
{#                <li class="active"><a href="/admin/?page={{ num }}">{{ num }}</a></li>#}
{#            {% else %}#}
{#                <li><a href="/admin/?page={{ num }}">{{ num }}</a></li>#}
{#            {% endif %}#}
{#        {% endfor %}#}
{##}
{#        {% if book_list.has_next %}#}
{#            <li class="next"><a href="/admin/?page={{ book_list.next_page_number }}" aria-label="Next">下一页</a></li>#}
{#        {% else %}#}
{#            <li class="next disabled"><a href="#" aria-label="Next">下一页</a></li>#}
{#        {% endif %}#}
{##}
{##}
{#  </ul>#}
{#</nav>#}

{% endblock %}




